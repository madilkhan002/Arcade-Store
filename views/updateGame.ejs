<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Games Catalog</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="shortcut icon" href="https://media.direct.playstation.com/is/image/sierialto/favicon?fmt=png-alpha"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles/viewgames.css">
    <link rel="stylesheet" href="/styles/navbar.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</head>
<body>

<%- include('partials/navbar', {path: "viewgames"}) %>

<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img class="d-block w-100" src="https://assets.xboxservices.com/assets/57/7f/577f2da4-1775-4d41-a2ef-c9fd5d2b31aa.jpg?n=9303887_Page-Hero-1084_1920x720_02.jpg" alt="Third slide">
            <div class="carousel-caption d-none d-md-block carousel-text">
                <h2 style="color: black;">Black Friday Deals!</h2>
                <h5 style="color: rgb(51,51,51);">This gifting season share endless Arcade Deals</h5>
            </div>
        </div>
        <div class="carousel-item">
            <img class="d-block w-100" src="https://assets.xboxservices.com/assets/f5/9e/f59efabc-4ed2-4ba8-9503-0cc7e0fd6c19.jpg?n=CoD-Warzone_Page-Hero-1084_Warzone-2_1920x720_01.jpg" alt="Second slide">
            <div class="carousel-caption d-none d-md-block carousel-text">
                <h2 style="color: white;">Call of Duty®: Warzone™ 2.0</h2>
                <h5 style="color:rgba(231,231,231,0.9);;">Welcome to Al Mazrah, the all-new Battle Royale experience.</h5>
            </div>
        </div>
        <div class="carousel-item">
            <img class="d-block w-100" src="https://assets.xboxservices.com/assets/51/d8/51d8e8ee-530b-487c-81d7-dde1ff9c5a34.jpg?n=Battlefield-2042_Page-Hero-1084_039599_1920x720.jpg" alt="First slide">
            <div class="carousel-caption d-none d-md-block carousel-text">
                <h2 style="color: White;">Battlefield 2042</h2>
                <h5 style="color: rgba(231,231,231,0.9);">Season 3 out now. Play with PC Game Pass or Ultimate.</h5>
            </div>
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>


<div class="games-catalog">

    <div class="catalog-header">
        <h1>ARCADE GAMES CATALOG</h1>
    </div>
    <div class="catalog-para">
        <p>Update the full catalog of all console and PC games <br>
            <span class="catalog-banner">CONSOLE . PC</span>            
        </p>
    </div>

<%- include('partials/search', {path: 'updategame'}) %>

</div>



<div class="above-card-text">
    <h1>Update your favorite games</h1>
    <h6>Update a huge variety of games from every genre including iconic franchises, indie classics, and blockbusters.</h6>
</div>


    <% for(let i = 0;i < data.length; i+=6) {%>

    <div class="cards-container">
        <% if(i < data.length ){ %>

            <div class="card3d game-card">
                <img src="/images/<%= data[i].id %>.jpeg" alt="Plains" width="200"> 
                <a href="/updategameform/<%=data[i].id%>">
                    <button class="buy-button">Update</button>
                </a>
                <h3 style="font-weight: 400;"><%= data[i]._name %></h3>
                <p>$ <%= data[i].price %></p>
            </div>
        <% } %>

        <% if(i + 1 < data.length ){ %>
            <div class="card3d game-card">
                <img src="/images/<%= data[i + 1].id %>.jpeg" alt="Plains" width="200"> 
                <a href="/updategameform/ <%= data[i+1].id %>">
                    <button class="buy-button">Update</button>
                </a>
                <h3 style="font-weight: 400;"><%= data[i+1]._name %></h3>
                <p>$ <%= data[i+1].price %></p>
            </div>
        <% } %>

        <% if(i + 2 < data.length ){ %>
            <div class="card3d game-card">
                <img src="/images/<%= data[i + 2].id %>.jpeg" alt="Plains" width="200"> 
                <a href="/updategameform/<%= data[i+2].id %>">
                    <button class="buy-button">Update</button>
                </a>
                <h3 style="font-weight: 400;"><%= data[i+2]._name %></h3>
                <p>$ <%= data[i+2].price %></p>
            </div>
        <% } %>

    <% } %>


    <% if(data == ""){ %>
        <div class="nothingFound">
          <h1>Luka Chupi khel rha</h1>
        </div>
    <% }%>

    <!-- ---------------- PAGINATION --------------- -->

    <% if(isSearch == 0){ %>
        <%- include('partials/pager',{path : 'updateGame'} )%>
    <% }%>


<script>
    function map(val, minA, maxA, minB, maxB) {
        return minB + ((val - minA) * (maxB - minB)) / (maxA - minA);
    }

    function Card3D(card, ev) {
    let img = card.querySelector('img');
    let imgRect = card.getBoundingClientRect();
    let width = imgRect.width;
    let height = imgRect.height;
    let mouseX = ev.offsetX;
    let mouseY = ev.offsetY;
    let rotateY = map(mouseX, 0, 180, -35, 15);
    let rotateX = map(mouseY, 0, 350, 25, -25);
    let brightness = map(mouseY, 0, 250, 1.5, 0.5);
    
    img.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    img.style.filter = `brightness(${brightness})`;
    }

    var cards = document.querySelectorAll('.card3d');

    cards.forEach((card) => {
    card.addEventListener('mousemove', (ev) => {
        Card3D(card, ev);
    });
    
    card.addEventListener('mouseleave', (ev) => {
        let img = card.querySelector('img');
        
        img.style.transform = 'rotateX(0deg) rotateY(0deg)';
        img.style.filter = 'brightness(0.8)';
    });
    });
    </script>

</body>
</html>