<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/styles/addGameForm.css">
    <link rel="stylesheet" href="/styles/navbar.css">
    <link rel="shortcut icon" href="https://media.direct.playstation.com/is/image/sierialto/favicon?fmt=png-alpha"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>


<body>

<%- include('partials/navbar', {path: "updateGameForm"}) %>

  <div class="topnav"></div>
  <div class="box">
    <div class="left">
      <form method="post" enctype="multipart/form-data" action="/update/<%= data[0].id %>" class="mainForm">
        <div class="form-group">
          <label for="name">Name: </label>
          <input type="text" class="form-control" id="name" name="name" required placeholder="Game Name" value="<%= data[0]._name %>">
        </div>
        <div class="form-group">
          <label for="price">Price: </label>
          <input type="text" class="form-control" id="price" name="price" required placeholder="Price $" value="<%= data[0].price %>">
        </div>
        <div class="form-group">
            <label for="detail">Details: </label>
            <textarea class="form-control" id="detail" name="detail" rows="3" required placeholder="Detail"><%= data[0].detail %></textarea>
        </div>

        <div class="category-style">
          <label class="my-1 mr-2 category-label" for="catagory"></label>
          <select class="custom-select my-1 mr-sm-2" id="catagory" name="catagory" required>
          <option value="NA" disabled selected>Select </option>
          <option value="arcade">Arcade</option>
          <option value="shooting">Shooting</option>
          <option value="adventure">Adventure</option>
        </select>
        </div>
        
        <br>

        <div class="form-group">
            <label for="price">Picture: </label>
            <input type="file" class="form-control" id="picture" name="picture" required>
        </div>

        <button type="submit" class="btn btn-primary" onclick="checkextension()">Update</button>
      </form>

    </div>

  </div>


  <script>
            function checkextension() {
            var file = document.querySelector("#picture");
            if ( /\.(jpeg)$/i.test(file.files[0].name) === false ) {
                alert("Picture extension should be '.jpeg'");
                event.preventDefault();
            }
        }
  </script>



</body>
</html>